<!DOCTYPE html>
<html>
<body>

<h1>Jenkins Delivery Pipeline</h1>

<p>
https://medium.com/ibm-cloud/build-test-deploy-to-ibm-cloud-private-icp-continuous-delivery-with-jenkins-container-7a7a0000b0ec <br>
<p>
Install Jenkins Helm Chart into ICP <br>

The Jekinsfile will perform these 4 stages of build process: <br>
(i)  Build the Docker image when code is committed to GitHub. <br>
(ii) Push the Docker image to the IBM Cloud Private Container registry. <br>
(iii)Perform unit testing with container structure test framework. <br>
(iv) Perform an upgrade of the Helm chart.  <br>
</p>
<p>
// download the Jenkins helm chart <br>
$ helm fetch stable/jenkins <br>
$ tar xzvf jenkins-0.25.0.tgz  <br>

// create helm scaffolding <br>
$ cd helm-skills <br>
$ helm create skills <br>
$ tree skills <br>
<br>
// copy over the manifest files <br>
$ cp manifests/* helm/templates/ <br>
$ rm skills/templates/ingress.yaml <br>
$ rm skills/templates/NOTES.txt <br>
$ helm version <br>
// must see both client and server (tiller) versions...if you see "Cant connect to Tiller", see Notes <br>
// install our Helm chart to Kubernetes (ICP) <br>
$ helm install -n tomwatres skills <br>
</p>
<p>
Note - Cant connect to Tiller has something to do with Service Account...I removed Tiller and "helm init", <br>
this seems to fix it...until I can figure out Service Account....see images below. <br>
</p>

</p>
<img src="../images/helm3-1.png" alt="Helm Skills Deployment" width="800" height="600"> <br>
<img src="../images/helm3-2.png" alt="Helm Skills Deployment" width="800" height="600"> <br>
<p>

</body>
</html>
