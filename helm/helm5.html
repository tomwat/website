<!DOCTYPE html>
<html>
<body>

<h1>Helm - Configure SSL between Helm Client and Tiller Server </h1>

<p>
First step, in many, for configuring security - SSL Transport Encryption and Identification to get in <br>
</p>

<p>
https://github.com/helm/helm/blob/master/docs/tiller_ssl.md <br>
The Tiller authentication model uses client-side SSL certificates. Tiller itself verifies these certificates using a certificate authority. Likewise, the client also verifies Tiller's identity by certificate authority <br>
<br>

Step 1 -  is to remove the current unsecure Tiller from Kubernetes <br>
Step 2 -  Create a private CA that is used to issue certificates for Tiller clients and servers <br> 
Step 3 -  Create a certificate for Tiller <br>
Step 4 -  Create a certificate for the Helm client <br>
Step 5 -  Create a Tiller instance that uses the certificate <br>
Step 6 -  Configure the Helm client to use the CA and client-side certificate <br>
By the end of this guide, you should have a Tiller instance running that will only accept connections from clients who can be authenticated by SSL certificate 
</p>

<p>
Step 1 -  is to remove the current unsecure Tiller from Kubernetes <br>
<br>
$ kubectl get pods -n kube-system | grep tiller <br>
tiller-deploy-74d5d98d7d-s8r97                                  1/1     Running   0          2d <br>
$ helm reset <br>
  Error: there are still 1 deployed releases (Tip: use --force to remove Tiller. Releases will not be deleted) <br>
$ helm reset --force
  Tiller (the Helm server-side component) has been uninstalled from your Kubernetes Cluster.
$ kubectl get pods -n kube-system | grep tiller <br>
</p>

<p>
Step 2 -  Create a private CA that is used to issue certificates for Tiller clients and servers <br>  
See referenced URL and screen shots below.
</p>

<p>
Step 3 -  Create a certificate for Tiller <br>
See referenced URL and screen shots below.
</p>


<p>
Step 4 -  Create a certificate for the Helm client <br>
See referenced URL and screen shots below.
</p>

<p>
Step 5 -  Create a Tiller instance that uses the certificate <br>
See referenced URL and screen shots below.
</p>

<p>
Step 6 -  Configure the Helm client to use the CA and client-side certificate <br>
See referenced URL and screen shots below.
</p>

<p>
<img src="../images/helm5-1.png" alt="helm5-1" width="800" height="600"> <br>
<img src="../images/helm5-2.png" alt="helm5-2" width="800" height="600"> <br>
</p>

</body>
</html>
